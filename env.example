# GinForge 框架环境变量配置示例
# 
# 使用方法：
#   1. 复制此文件为 .env: cp env.example .env
#   2. 修改 .env 文件中的配置值
#   3. 运行 make init 生成 configs/config.yaml 并初始化数据库
#
# 注意：修改 .env 后需要重新运行 make init 或 make generate-config 来更新配置文件

# ============================================
# 应用基础配置
# ============================================
GOEASE_APP_NAME=GinForge Framework
GOEASE_APP_VERSION=0.1.0
GOEASE_APP_ENV=development
GOEASE_APP_DEBUG=true
GOEASE_APP_PORT=8080
GOEASE_APP_READ_TIMEOUT=10s
GOEASE_APP_WRITE_TIMEOUT=10s
GOEASE_APP_IDLE_TIMEOUT=60s

# ============================================
# 服务端口配置
# ============================================
GOEASE_SERVICE_USER_API_PORT=8081
GOEASE_SERVICE_MERCHANT_API_PORT=8082
GOEASE_SERVICE_ADMIN_API_PORT=8083
GOEASE_SERVICE_GATEWAY_PORT=8080
GOEASE_SERVICE_GATEWAY_WORKER_PORT=8084
GOEASE_SERVICE_DEMO_PORT=8085
GOEASE_SERVICE_FILE_API_PORT=8086
GOEASE_SERVICE_WEBSOCKET_GATEWAY_PORT=8087

# ============================================
# 日志配置
# ============================================
GOEASE_LOG_LEVEL=debug
GOEASE_LOG_FORMAT=json
GOEASE_LOG_OUTPUT=stdout
GOEASE_LOG_FILE_PATH=logs/app.log
GOEASE_LOG_MAX_SIZE=100
GOEASE_LOG_MAX_AGE=30
GOEASE_LOG_MAX_BACKUPS=10
GOEASE_LOG_COMPRESS=true

# ============================================
# 数据库配置
# ============================================
GOEASE_DATABASE_DRIVER=mysql
GOEASE_DATABASE_HOST=localhost
GOEASE_DATABASE_PORT=3306
GOEASE_DATABASE_DATABASE=gin_forge
GOEASE_DATABASE_USERNAME=root
GOEASE_DATABASE_PASSWORD=123456
GOEASE_DATABASE_CHARSET=utf8mb4
GOEASE_DATABASE_TIMEZONE=Asia/Shanghai
GOEASE_DATABASE_TABLE_PREFIX=gf_
GOEASE_DATABASE_MAX_IDLE_CONNS=10
GOEASE_DATABASE_MAX_OPEN_CONNS=100
GOEASE_DATABASE_CONN_MAX_LIFETIME=1h
GOEASE_DATABASE_LOG_LEVEL=warn

# ============================================
# Redis配置
# ============================================
GOEASE_REDIS_ENABLED=true
GOEASE_REDIS_HOST=localhost
GOEASE_REDIS_PORT=6379
GOEASE_REDIS_PASSWORD=
GOEASE_REDIS_DATABASE=0
GOEASE_REDIS_POOL_SIZE=10
GOEASE_REDIS_MIN_IDLE_CONNS=5
GOEASE_REDIS_MAX_RETRIES=3
GOEASE_REDIS_DIAL_TIMEOUT=5s
GOEASE_REDIS_READ_TIMEOUT=3s
GOEASE_REDIS_WRITE_TIMEOUT=3s
GOEASE_REDIS_IDLE_TIMEOUT=5m
GOEASE_REDIS_IDLE_CHECK_FREQUENCY=1m

# ============================================
# 缓存配置
# ============================================
GOEASE_CACHE_DEFAULT_TTL=5m
GOEASE_CACHE_MAX_SIZE=1000
GOEASE_CACHE_CLEANUP_INTERVAL=10m

# ============================================
# JWT配置
# ============================================
GOEASE_JWT_SECRET=your-secret-key-change-in-production
GOEASE_JWT_EXPIRE=24h
GOEASE_JWT_ISSUER=GinForge
GOEASE_JWT_AUDIENCE=GinForge-Users

# ============================================
# 限流配置
# ============================================
GOEASE_RATE_LIMIT_ENABLED=true
GOEASE_RATE_LIMIT_RPS=100
GOEASE_RATE_LIMIT_BURST=200
GOEASE_RATE_LIMIT_WINDOW=1m

# ============================================
# CORS配置
# ============================================
GOEASE_CORS_ENABLED=true
GOEASE_CORS_ORIGINS=*
GOEASE_CORS_CREDENTIALS=true
GOEASE_CORS_MAX_AGE=12h

# ============================================
# 监控配置
# ============================================
GOEASE_MONITOR_ENABLED=true
GOEASE_MONITOR_METRICS_PATH=/metrics
GOEASE_MONITOR_HEALTH_PATH=/healthz
GOEASE_MONITOR_READY_PATH=/readyz

# ============================================
# 服务发现配置
# ============================================
GOEASE_SERVICE_DISCOVERY_TYPE=none
GOEASE_SERVICE_DISCOVERY_CONSUL_ADDRESS=127.0.0.1:8500
GOEASE_SERVICE_DISCOVERY_CONSUL_DATACENTER=dc1
GOEASE_SERVICE_DISCOVERY_CONSUL_SERVICE_NAME=ginforge
GOEASE_SERVICE_DISCOVERY_CONSUL_SERVICE_ID=ginforge-1
GOEASE_SERVICE_DISCOVERY_ETCD_ENDPOINTS=127.0.0.1:2379
GOEASE_SERVICE_DISCOVERY_ETCD_TIMEOUT=5s
GOEASE_SERVICE_DISCOVERY_ETCD_TTL=30s

# ============================================
# WebSocket配置
# ============================================
GOEASE_WEBSOCKET_ENABLED=true
GOEASE_WEBSOCKET_GATEWAY_URL=ws://localhost:8087

# ============================================
# 外部服务配置
# ============================================
GOEASE_EXTERNAL_USER_API_URL=http://localhost:8081
GOEASE_EXTERNAL_MERCHANT_API_URL=http://localhost:8082
GOEASE_EXTERNAL_ADMIN_API_URL=http://localhost:8083
GOEASE_EXTERNAL_FILE_API_URL=http://localhost:8086

# ============================================
# 文件上传配置
# ============================================
GOEASE_UPLOAD_MAX_SIZE=10
GOEASE_UPLOAD_PATH=uploads
GOEASE_UPLOAD_TEMP_PATH=temp

# ============================================
# 邮件配置
# ============================================
GOEASE_EMAIL_ENABLED=false
GOEASE_EMAIL_SMTP_HOST=smtp.gmail.com
GOEASE_EMAIL_SMTP_PORT=587
GOEASE_EMAIL_SMTP_USERNAME=
GOEASE_EMAIL_SMTP_PASSWORD=
GOEASE_EMAIL_FROM_NAME=GinForge
GOEASE_EMAIL_FROM_EMAIL=noreply@ginforge.com

# ============================================
# 短信配置
# ============================================
GOEASE_SMS_ENABLED=false
GOEASE_SMS_PROVIDER=aliyun
GOEASE_SMS_ACCESS_KEY=
GOEASE_SMS_SECRET_KEY=
GOEASE_SMS_SIGN_NAME=GinForge
GOEASE_SMS_TEMPLATE_CODE=SMS_123456789

# ============================================
# 安全配置
# ============================================
GOEASE_SECURITY_BCRYPT_COST=12
GOEASE_SECURITY_SESSION_TIMEOUT=24h
GOEASE_SECURITY_MAX_LOGIN_ATTEMPTS=5
GOEASE_SECURITY_LOCKOUT_DURATION=15m
GOEASE_SECURITY_PASSWORD_MIN_LENGTH=8
GOEASE_SECURITY_PASSWORD_REQUIRE_UPPERCASE=true
GOEASE_SECURITY_PASSWORD_REQUIRE_LOWERCASE=true
GOEASE_SECURITY_PASSWORD_REQUIRE_NUMBERS=true
GOEASE_SECURITY_PASSWORD_REQUIRE_SYMBOLS=false
