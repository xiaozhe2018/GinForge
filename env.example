# GinForge 框架环境变量配置示例
# 复制此文件为 .env 并修改相应配置
# 所有配置项都可以通过环境变量覆盖 configs/config.yaml 中的配置

# ============================================
# 应用基础配置
# ============================================
GINFORGE_APP_NAME=GinForge Framework
GINFORGE_APP_VERSION=1.0.0
GINFORGE_APP_ENV=development
GINFORGE_APP_DEBUG=true
GINFORGE_APP_PORT=8080
GINFORGE_APP_READ_TIMEOUT=10s
GINFORGE_APP_WRITE_TIMEOUT=10s
GINFORGE_APP_IDLE_TIMEOUT=60s

# ============================================
# 服务端口配置
# ============================================
GINFORGE_SERVICE_USER_API_PORT=8081
GINFORGE_SERVICE_MERCHANT_API_PORT=8082
GINFORGE_SERVICE_ADMIN_API_PORT=8083
GINFORGE_SERVICE_GATEWAY_PORT=8080
GINFORGE_SERVICE_GATEWAY_WORKER_PORT=8084
GINFORGE_SERVICE_DEMO_PORT=8085
GINFORGE_SERVICE_FILE_API_PORT=8086
GINFORGE_SERVICE_WEBSOCKET_GATEWAY_PORT=8087

# ============================================
# 日志配置
# ============================================
GINFORGE_LOG_LEVEL=debug
GINFORGE_LOG_FORMAT=json
GINFORGE_LOG_OUTPUT=stdout
GINFORGE_LOG_FILE_PATH=logs/app.log
GINFORGE_LOG_MAX_SIZE=100
GINFORGE_LOG_MAX_AGE=30
GINFORGE_LOG_MAX_BACKUPS=10
GINFORGE_LOG_COMPRESS=true

# ============================================
# 数据库配置
# ============================================
GINFORGE_DATABASE_DRIVER=mysql
GINFORGE_DATABASE_HOST=localhost
GINFORGE_DATABASE_PORT=3306
GINFORGE_DATABASE_DATABASE=gin_forge
GINFORGE_DATABASE_USERNAME=root
GINFORGE_DATABASE_PASSWORD=123456
GINFORGE_DATABASE_CHARSET=utf8mb4
GINFORGE_DATABASE_TIMEZONE=Asia/Shanghai
GINFORGE_DATABASE_MAX_IDLE_CONNS=10
GINFORGE_DATABASE_MAX_OPEN_CONNS=100
GINFORGE_DATABASE_CONN_MAX_LIFETIME=1h
GINFORGE_DATABASE_LOG_LEVEL=warn

# ============================================
# Redis配置
# ============================================
GINFORGE_REDIS_ENABLED=true
GINFORGE_REDIS_HOST=localhost
GINFORGE_REDIS_PORT=6379
GINFORGE_REDIS_PASSWORD=
GINFORGE_REDIS_DATABASE=0
GINFORGE_REDIS_POOL_SIZE=10
GINFORGE_REDIS_MIN_IDLE_CONNS=5
GINFORGE_REDIS_MAX_RETRIES=3
GINFORGE_REDIS_DIAL_TIMEOUT=5s
GINFORGE_REDIS_READ_TIMEOUT=3s
GINFORGE_REDIS_WRITE_TIMEOUT=3s
GINFORGE_REDIS_IDLE_TIMEOUT=5m
GINFORGE_REDIS_IDLE_CHECK_FREQUENCY=1m

# ============================================
# 缓存配置
# ============================================
GINFORGE_CACHE_DEFAULT_TTL=5m
GINFORGE_CACHE_MAX_SIZE=1000
GINFORGE_CACHE_CLEANUP_INTERVAL=10m

# ============================================
# JWT配置
# ============================================
GINFORGE_JWT_SECRET=your-secret-key-change-in-production
GINFORGE_JWT_EXPIRE=24h
GINFORGE_JWT_ISSUER=GinForge
GINFORGE_JWT_AUDIENCE=GinForge-Users

# ============================================
# 限流配置
# ============================================
GINFORGE_RATE_LIMIT_ENABLED=true
GINFORGE_RATE_LIMIT_RPS=100
GINFORGE_RATE_LIMIT_BURST=200
GINFORGE_RATE_LIMIT_WINDOW=1m

# ============================================
# CORS配置
# ============================================
GINFORGE_CORS_ENABLED=true
GINFORGE_CORS_ORIGINS=*
GINFORGE_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
GINFORGE_CORS_HEADERS=Content-Type,Authorization,X-Requested-With
GINFORGE_CORS_CREDENTIALS=true
GINFORGE_CORS_MAX_AGE=12h

# ============================================
# 监控配置
# ============================================
GINFORGE_MONITOR_ENABLED=true
GINFORGE_MONITOR_METRICS_PATH=/metrics
GINFORGE_MONITOR_HEALTH_PATH=/healthz
GINFORGE_MONITOR_READY_PATH=/readyz

# ============================================
# 服务发现配置
# ============================================
GINFORGE_SERVICE_DISCOVERY_TYPE=none
GINFORGE_SERVICE_DISCOVERY_CONSUL_ADDRESS=127.0.0.1:8500
GINFORGE_SERVICE_DISCOVERY_CONSUL_DATACENTER=dc1
GINFORGE_SERVICE_DISCOVERY_CONSUL_SERVICE_NAME=ginforge
GINFORGE_SERVICE_DISCOVERY_CONSUL_SERVICE_ID=ginforge-1
GINFORGE_SERVICE_DISCOVERY_ETCD_ENDPOINTS=127.0.0.1:2379
GINFORGE_SERVICE_DISCOVERY_ETCD_TIMEOUT=5s
GINFORGE_SERVICE_DISCOVERY_ETCD_TTL=30s

# ============================================
# WebSocket配置
# ============================================
GINFORGE_WEBSOCKET_ENABLED=true
GINFORGE_WEBSOCKET_GATEWAY_URL=ws://localhost:8087

# ============================================
# 外部服务配置
# ============================================
GINFORGE_EXTERNAL_USER_API_URL=http://localhost:8081
GINFORGE_EXTERNAL_MERCHANT_API_URL=http://localhost:8082
GINFORGE_EXTERNAL_ADMIN_API_URL=http://localhost:8083
GINFORGE_EXTERNAL_FILE_API_URL=http://localhost:8086

# ============================================
# 文件上传配置
# ============================================
GINFORGE_UPLOAD_MAX_SIZE=10
GINFORGE_UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
GINFORGE_UPLOAD_PATH=uploads
GINFORGE_UPLOAD_TEMP_PATH=temp

# ============================================
# 邮件配置
# ============================================
GINFORGE_EMAIL_ENABLED=false
GINFORGE_EMAIL_SMTP_HOST=smtp.gmail.com
GINFORGE_EMAIL_SMTP_PORT=587
GINFORGE_EMAIL_SMTP_USERNAME=
GINFORGE_EMAIL_SMTP_PASSWORD=
GINFORGE_EMAIL_FROM_NAME=GinForge
GINFORGE_EMAIL_FROM_EMAIL=noreply@ginforge.com

# ============================================
# 短信配置
# ============================================
GINFORGE_SMS_ENABLED=false
GINFORGE_SMS_PROVIDER=aliyun
GINFORGE_SMS_ACCESS_KEY=
GINFORGE_SMS_SECRET_KEY=
GINFORGE_SMS_SIGN_NAME=GinForge
GINFORGE_SMS_TEMPLATE_CODE=SMS_123456789

# ============================================
# 安全配置
# ============================================
GINFORGE_SECURITY_BCRYPT_COST=12
GINFORGE_SECURITY_SESSION_TIMEOUT=24h
GINFORGE_SECURITY_MAX_LOGIN_ATTEMPTS=5
GINFORGE_SECURITY_LOCKOUT_DURATION=15m
GINFORGE_SECURITY_PASSWORD_MIN_LENGTH=8
GINFORGE_SECURITY_PASSWORD_REQUIRE_UPPERCASE=true
GINFORGE_SECURITY_PASSWORD_REQUIRE_LOWERCASE=true
GINFORGE_SECURITY_PASSWORD_REQUIRE_NUMBERS=true
GINFORGE_SECURITY_PASSWORD_REQUIRE_SYMBOLS=false
