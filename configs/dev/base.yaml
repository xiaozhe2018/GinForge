# GinForge 开发环境基础配置
# 所有服务共用的基础配置

app:
  name: "GinForge Framework"
  version: "0.1.0"
  env: "development"
  debug: true
  port: 8080
  read_timeout: "10s"
  write_timeout: "10s"
  idle_timeout: "60s"

# 日志配置
log:
  level: "debug"
  format: "json"
  output: "stdout"
  file_path: "logs/app.log"
  max_size: 100
  max_age: 30
  max_backups: 10
  compress: true

# 数据库配置
database:
  driver: "mysql"
  host: "localhost"
  port: 3306
  database: "gin_forge"
  username: "root"
  password: "123456"
  charset: "utf8mb4"
  timezone: "Asia/Shanghai"
  table_prefix: "gf_"
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: "1h"
  log_level: "warn"

# Redis配置
redis:
  enabled: false
  host: "localhost"
  port: 6379
  password: ""
  database: 0
  pool_size: 10
  min_idle_conns: 5
  max_retries: 3
  dial_timeout: "5s"
  read_timeout: "3s"
  write_timeout: "3s"
  idle_timeout: "5m"
  idle_check_frequency: "1m"

# 缓存配置
cache:
  default_ttl: "5m"
  max_size: 1000
  cleanup_interval: "10m"

# JWT配置
jwt:
  secret: "dev-secret-key-change-in-production"
  expire: "24h"
  issuer: "GinForge"
  audience: "GinForge-Users"

# 限流配置
rate_limit:
  enabled: true
  rps: 100
  burst: 200
  window: "1m"

# CORS配置
cors:
  enabled: true
  origins: ["*"]
  methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
  headers: ["Content-Type", "Authorization", "X-Requested-With"]
  credentials: true
  max_age: "12h"

# 监控配置
monitor:
  enabled: true
  metrics_path: "/metrics"
  health_path: "/healthz"
  ready_path: "/readyz"

# Gateway 配置
gateway:
  base_url: "http://localhost:8080"
  timeout: "30s"
  retry_count: 3
  retry_delay: "1s"

# 外部服务配置
external_services:
  user_api_url: "http://localhost:8081"
  merchant_api_url: "http://localhost:8082"
  admin_api_url: "http://localhost:8083"
  file_api_url: "http://localhost:8086"
  websocket_gateway_url: "ws://localhost:8087"

# 文件上传配置
upload:
  max_size: 10
  allowed_types: ["image/jpeg", "image/png", "image/gif", "application/pdf"]
  upload_path: "uploads"
  temp_path: "temp"

# 邮件配置
email:
  enabled: false
  smtp_host: "smtp.gmail.com"
  smtp_port: 587
  smtp_username: ""
  smtp_password: ""
  from_name: "GinForge"
  from_email: "noreply@ginforge.com"

# 短信配置
sms:
  enabled: false
  provider: "aliyun"
  access_key: ""
  secret_key: ""
  sign_name: "GinForge"
  template_code: "SMS_123456789"

# 通知服务配置（邮件和短信）
notification:
  email:
    host: smtp.gmail.com
    port: 587
    username: ""
    password: ""
    from: noreply@ginforge.com
    from_name: GinForge系统
    timeout: 10
    use_ssl: false
  sms:
    provider: aliyun
    api_key: ""
    api_secret: ""
    api_url: ""
    timeout: 5
    sign_name: GinForge
    extra_params:
      region: cn-hangzhou

# 安全配置
security:
  bcrypt_cost: 12
  session_timeout: "24h"
  max_login_attempts: 5
  lockout_duration: "15m"
  password_min_length: 8
  password_require_uppercase: true
  password_require_lowercase: true
  password_require_numbers: true
  password_require_symbols: false

