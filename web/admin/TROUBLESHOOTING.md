# ğŸ” å‰ç«¯è°ƒè¯•æŒ‡å—

## Networké¢æ¿çœ‹ä¸åˆ°APIè¯·æ±‚ï¼Ÿ

### æ£€æŸ¥æ­¥éª¤

#### 1ï¸âƒ£ æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- æŒ‰ `F12` æˆ– `Cmd+Option+I` (Mac)
- ç‚¹å‡» `Network` æ ‡ç­¾

#### 2ï¸âƒ£ ç¡®ä¿Networké¢æ¿æ­£åœ¨è®°å½•
- Networké¢æ¿å·¦ä¸Šè§’åº”è¯¥æœ‰ä¸€ä¸ªçº¢è‰²çš„å½•åˆ¶æŒ‰é’® ğŸ”´
- ç¡®ä¿å®ƒæ˜¯æ¿€æ´»çŠ¶æ€ï¼ˆçº¢è‰²ï¼‰
- å¦‚æœæ˜¯ç°è‰²ï¼Œç‚¹å‡»ä¸€ä¸‹æ¿€æ´»å½•åˆ¶

#### 3ï¸âƒ£ æ¸…é™¤è¿‡æ»¤å™¨
- æ£€æŸ¥Networké¢æ¿ä¸Šæ–¹çš„è¿‡æ»¤å™¨
- ç¡®ä¿é€‰æ‹© `All` æˆ– `Fetch/XHR`
- æ¸…ç©ºæœç´¢æ¡†

#### 4ï¸âƒ£ æ‰§è¡Œç™»å½•æ“ä½œ
```
1. åˆ·æ–°é¡µé¢ (Cmd+R æˆ– F5)
2. åœ¨ç™»å½•é¡µé¢è¾“å…¥:
   ç”¨æˆ·å: admin
   å¯†ç : admin123
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
4. è§‚å¯ŸNetworké¢æ¿
```

### åº”è¯¥çœ‹åˆ°çš„è¯·æ±‚

#### ç™»å½•è¯·æ±‚
```
Method: POST
URL: http://localhost:3000/api/v1/admin/auth/login
Status: 200
Response: JSON with token, user, menus, permissions
```

#### è¯·æ±‚è¯¦æƒ…
- **Request Headers**:
  - Content-Type: application/json
- **Request Body**:
  ```json
  {
    "username": "admin",
    "password": "admin123"
  }
  ```
- **Response**:
  ```json
  {
    "code": 0,
    "message": "success",
    "data": {
      "token": "eyJhbGci...",
      "user": {...},
      "menus": [...],
      "permissions": [...]
    }
  }
  ```

## ğŸ“Š Viteä»£ç†é…ç½®

å‰ç«¯é…ç½®äº†ä»£ç†ï¼Œæ‰€æœ‰ `/api` è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°åç«¯ï¼š

```typescript
// vite.config.ts
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8083',  // åç«¯åœ°å€
      changeOrigin: true,
      rewrite: (path) => path
    }
  }
}
```

è¿™æ„å‘³ç€ï¼š
- å‰ç«¯è¯·æ±‚: `http://localhost:3000/api/v1/admin/auth/login`
- å®é™…è½¬å‘åˆ°: `http://localhost:8083/api/v1/admin/auth/login`

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. Networké¢æ¿å®Œå…¨ç©ºç™½
**åŸå› **: å¯èƒ½æ²¡æœ‰æ¿€æ´»å½•åˆ¶  
**è§£å†³**: ç‚¹å‡»å·¦ä¸Šè§’çš„å½•åˆ¶æŒ‰é’® ğŸ”´

### 2. åªçœ‹åˆ°é¡µé¢èµ„æºï¼Œæ²¡æœ‰APIè¯·æ±‚
**åŸå› **: è¿˜æ²¡æœ‰æ‰§è¡Œç™»å½•æ“ä½œ  
**è§£å†³**: è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œç‚¹å‡»ç™»å½•æŒ‰é’®

### 3. çœ‹åˆ°è¯·æ±‚ä½†æ˜¯å¤±è´¥ (çº¢è‰²)
**åŸå› **: åç«¯æœåŠ¡æ²¡æœ‰è¿è¡Œæˆ–ç«¯å£ä¸å¯¹  
**è§£å†³**: 
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
ps aux | grep "admin-api"

# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®ƒ
go run ./services/admin-api/cmd/server
```

### 4. è¯·æ±‚æ˜¾ç¤ºCORSé”™è¯¯
**åŸå› **: è·¨åŸŸé…ç½®é—®é¢˜  
**è§£å†³**: åç«¯å·²é…ç½®CORSï¼Œç¡®è®¤åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ

### 5. è¯·æ±‚è¶…æ—¶
**åŸå› **: æ•°æ®åº“è¿æ¥é—®é¢˜  
**è§£å†³**:
```bash
# æ£€æŸ¥MySQL
docker ps | grep mysql

# æ£€æŸ¥é…ç½®
cat configs/config.yaml | grep -A 10 database
```

## ğŸ§ª æµ‹è¯•APIç›´æ¥è®¿é—®

å¦‚æœNetworké¢æ¿çœ‹ä¸åˆ°è¯·æ±‚ï¼Œå¯ä»¥ç›´æ¥æµ‹è¯•åç«¯APIï¼š

### æ–¹æ³•1: ä½¿ç”¨curl
```bash
curl -X POST http://localhost:8083/api/v1/admin/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

### æ–¹æ³•2: ä½¿ç”¨æµè§ˆå™¨
ç›´æ¥è®¿é—®: `http://localhost:8083/healthz`  
åº”è¯¥çœ‹åˆ°: `{"status":"ok","service":"admin-api"}`

### æ–¹æ³•3: ä½¿ç”¨Postman
1. Method: POST
2. URL: `http://localhost:8083/api/v1/admin/auth/login`
3. Headers: `Content-Type: application/json`
4. Body:
   ```json
   {
     "username": "admin",
     "password": "admin123"
   }
   ```

## ğŸ¯ å®Œæ•´è°ƒè¯•æµç¨‹

### Step 1: ç¡®è®¤æœåŠ¡çŠ¶æ€
```bash
# åç«¯æœåŠ¡
ps aux | grep "admin-api"
curl http://localhost:8083/healthz

# å‰ç«¯æœåŠ¡  
ps aux | grep "vite"
curl http://localhost:3000
```

### Step 2: æ‰“å¼€æµè§ˆå™¨è°ƒè¯•
1. è®¿é—®: `http://localhost:3000`
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° Console æ ‡ç­¾ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯
4. åˆ‡æ¢åˆ° Network æ ‡ç­¾ï¼Œæ¿€æ´»å½•åˆ¶
5. ç¡®ä¿è¿‡æ»¤å™¨è®¾ç½®ä¸º "All" æˆ– "Fetch/XHR"

### Step 3: æ‰§è¡Œç™»å½•
1. åœ¨ç™»å½•é¡µé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
2. æ‰“å¼€ Network æ ‡ç­¾
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
4. è§‚å¯Ÿè¯·æ±‚åˆ—è¡¨

### Step 4: æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…
ç‚¹å‡» `login` è¯·æ±‚ï¼ŒæŸ¥çœ‹ï¼š
- **Headers** æ ‡ç­¾: è¯·æ±‚å¤´å’Œå“åº”å¤´
- **Payload** æ ‡ç­¾: è¯·æ±‚ä½“
- **Response** æ ‡ç­¾: å“åº”å†…å®¹
- **Preview** æ ‡ç­¾: æ ¼å¼åŒ–çš„å“åº”

## ğŸ“¸ é¢„æœŸæˆªå›¾ä½ç½®

åœ¨Networké¢æ¿ä¸­åº”è¯¥çœ‹åˆ°ï¼š

```
Name                          Status  Type    Size
----------------------------------------------
login                         200     xhr     4.7KB
```

ç‚¹å‡»ååœ¨ Preview æ ‡ç­¾åº”è¯¥çœ‹åˆ°ï¼š
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "token": "eyJ...",
    "user": { ... },
    "menus": [ ... ],
    "permissions": [ ... ]
  }
}
```

## ğŸ’¡ æç¤º

1. **åˆ·æ–°é¡µé¢**: æ¯æ¬¡æµ‹è¯•å‰åˆ·æ–°é¡µé¢ï¼Œæ¸…ç©ºä¹‹å‰çš„è¯·æ±‚
2. **ä¿ç•™æ—¥å¿—**: å‹¾é€‰ "Preserve log" å¯ä»¥ä¿ç•™é¡µé¢è·³è½¬å‰çš„è¯·æ±‚
3. **ç¦ç”¨ç¼“å­˜**: å‹¾é€‰ "Disable cache" ç¡®ä¿è·å–æœ€æ–°æ•°æ®
4. **æŸ¥çœ‹Console**: åŒæ—¶æŸ¥çœ‹Consoleæ ‡ç­¾ï¼Œå¯èƒ½æœ‰é”™è¯¯ä¿¡æ¯
5. **æ£€æŸ¥æºç **: åœ¨ Sources æ ‡ç­¾å¯ä»¥æŸ¥çœ‹å’Œè°ƒè¯•æºä»£ç 

---

**å¦‚æœè¿˜æ˜¯çœ‹ä¸åˆ°è¯·æ±‚ï¼Œè¯·æˆªå›¾ç»™æˆ‘çœ‹çœ‹ï¼** ğŸ“¸

